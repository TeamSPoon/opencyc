Use Cases for the Behavior Engine

1. Emit a prompt and read the response from the console.
1. emit the prompt (actuator)
2. read the response (sensor)

BEL (Behavior Engine Language):

;; define the direct actuators

(define-direct-actuator ConsoleOutput
  (:name "ConsoleOutput"
   :capabilities ("ConsolePromptedInput")))

;; define the direct sensors

(define-actuator-sensor CycApi
  (:name "CycApi"
   :input-formal-parameters ((?CYC-API-REQUEST CycList))
   :sensation ?CYC-API-RESPONSE))

;; define the actuator-sensors

;; define the actions

(define-action ConsolePromptedInput
  (:name "ConsolePromptedInput"
   :input-formal-parameters ((?PROMPT String))
   :output-formal-parameters ()))

;; waits until the given variable has a value or a goal timeout occurs
(define-goal PerceiveSensation
  (:name "PerceiveSensation"
   :input-formal-parameters ((?PERCEIVED-SENSATION Object))
   :when (NotNull ?PERCEIVED-SENSATION)))

(define-sensor ConsoleInput

(define-sensor UserInput (:sensation ?USER-INPUT)


;; 
(define-action ConverseWithUser
  (:name "ConverseWithUser"
   :input-formal-parameters ((?USER CycFort))
   :output-formal-parameters ((?USER-INPUT String))
   :sensor
  (perform ConsolePromptedInput 
    (:input-parameter-values (">"))
  (achieve PerceiveSensation
    (:input-parameter-values (?USER-INPUT)))
    


define ConverseWithUser
  [command name: "ConverseWithUser"
   input formal parameters: ?USER
   output formal parameters: "?USER-INPUT" (String)
   output state variables: "?USER-INPUT"]
  
  perform ConsolePromptedInput using ">" as ?PROMPT
    [command name: "ConsolePromptedInput"
     input formal parameters: ?PROMPT (String)]
     
  achieve PerceiveSensation using ?USER-INPUT as ?PERCEIVED-SENSATION
    [command name: "PerceiveSensation"
     input formal parameters: ?PERCEIVED-SENSATION (Object)
     predicate expression: (not-null ?PERCEIVED-SENSATION)]


The Schedule for ConverseWithUser

(ConverseWithUser using SteveReed as ?User perceiving ?CONSOLE-INPUT as ?USER-INPUT)
  (ConsolePromptedInput using ">")
  (PerceiveSensation when (not-null ?CONSOLE-INPUT))



